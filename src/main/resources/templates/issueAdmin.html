<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head th:replace="templateSimple :: header"></head>

<body>

<!--    div upper menu-->
<div th:replace="templateSimple :: divUpperMenuLogged"></div>

<!--    div main-->
<div id="main">

    <!--    div menu (left side)-->
    <div th:replace="templateSimple :: divMenuLeft"></div>

    <!--        div content (central) inside main-->
    <div id="content" class="col-sm-10">
        <br><br><br><br>
        <h3>Welcome in issue list page</h3>
        <br><br>

        <hr>

        <!--    new Issue List-->
        <div class="container-smaller">
            <h2>New issue list</h2>
            <br>
            <table class="table table-bordered table-striped table-sm small">
                <th style="text-align: center; ">Id</th>
                <th style="text-align: center; ">Date time</th>
                <th style="text-align: center; ">User</th>
                <th style="text-align: center; ">Topic</th>
                <th style="text-align: center; ">Message</th>

                <tr th:each="newMessage: ${receivedNewIssues}">
                    <td th:text="${newMessage.id}"/>
                    <td th:text="${newMessage.localDateTime}"/>
                    <td th:text="${newMessage.user}"/>
                    <td th:text="${newMessage.topic}"/>
                    <td th:text="${newMessage.message}"/>
                </tr>
            </table>
        </div>

        <hr>

        <!--    old Issue List-->
        <div class="container-smaller">
            <h2>All issue list</h2>
            <input class="form-control" id="myInputIssue" type="text" placeholder="Search..">
            <br>
            <table class="table table-bordered table-striped table-sm small">
                <thead>
                <th style="text-align: center; ">Id</th>
                <th style="text-align: center; ">Date time</th>
                <th style="text-align: center; ">User</th>
                <th style="text-align: center; ">Topic</th>
                <th style="text-align: center; ">Message</th>
                <th style="text-align: center; ">Action</th>
                </thead>

                <tbody id="myTableIssue">
                <tr th:each="oldMessage: ${receivedOldIssues}">
                    <td th:text="${oldMessage.id}"/>
                    <td th:text="${oldMessage.localDateTime}"/>
                    <td th:text="${oldMessage.user}"/>
                    <td th:text="${oldMessage.topic}"/>
                    <td th:text="${oldMessage.message}"/>
                    <td>
                        <a class="btn btn-danger btn-sm "
                           th:href="@{'/deleteIssue/' + ${oldMessage.id}}"
                           onclick="return confirm('Are you sure you want to delete this item?');">delete</a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <!--    Address Filter Script -->
        <script th:replace="templateFilters :: issues"></script>

    </div>
</div>
<!--    end div main-->


</body>
</html>
